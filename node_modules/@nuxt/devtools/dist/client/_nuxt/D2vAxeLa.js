import{d as x,am as y,a as _,m as d,f as i,i as N,j as C,k as m,t as p,p as h,h as w,Y as S,o as l,v as $}from"./BIR-zdoB.js";import{_ as O}from"./DmAOJaWQ.js";import"./23UkCXk9.js";const R=/(^|@)\S+:\d+/,k=/^\s*at .*(\S+:\d+|\(native\))/m,A=/^(eval@)?(\[native code])?$/;function F(e,t){if(typeof e.stacktrace<"u"||typeof e["opera#sourceloc"]<"u")return P(e,t);if(e.stack&&e.stack.match(k))return I(e,t);if(e.stack)return T(e,t);throw new Error("Cannot parse given Error object")}function v(e){if(!e.includes(":"))return[e,void 0,void 0];const s=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]}function f(e,t){return t&&t.slice!=null?Array.isArray(t.slice)?e.slice(t.slice[0],t.slice[1]):e.slice(0,t.slice):e}function I(e,t){return b(e.stack,t)}function b(e,t){return f(e.split(`
`).filter(n=>!!n.match(k)),t).map(n=>{n.includes("(eval ")&&(n=n.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let r=n.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const c=r.match(/ (\(.+\)$)/);r=c?r.replace(c[0],""):r;const o=v(c?c[1]:r),a=c&&r||void 0,u=["eval","<anonymous>"].includes(o[0])?void 0:o[0];return{function:a,file:u,line:o[1]?+o[1]:void 0,col:o[2]?+o[2]:void 0,raw:n}})}function T(e,t){return V(e.stack,t)}function V(e,t){return f(e.split(`
`).filter(n=>!n.match(A)),t).map(n=>{if(n.includes(" > eval")&&(n=n.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!n.includes("@")&&!n.includes(":"))return{function:n};{const r=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=n.match(r),o=c&&c[1]?c[1]:void 0,a=v(n.replace(r,""));return{function:o,file:a[0],line:a[1]?+a[1]:void 0,col:a[2]?+a[2]:void 0,raw:n}}})}function P(e,t){return!e.stacktrace||e.message.includes(`
`)&&e.message.split(`
`).length>e.stacktrace.split(`
`).length?B(e):e.stack?X(e,t):L(e)}function B(e,t){const s=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split(`
`),r=[];for(let c=2,o=n.length;c<o;c+=2){const a=s.exec(n[c]);a&&r.push({file:a[2],line:+a[1],raw:n[c]})}return f(r,t)}function L(e,t){const s=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split(`
`),r=[];for(let c=0,o=n.length;c<o;c+=2){const a=s.exec(n[c]);a&&r.push({function:a[3]||void 0,file:a[2],line:a[1]?+a[1]:void 0,raw:n[c]})}return f(r,t)}function X(e,t){return f(e.stack.split(`
`).filter(n=>!!n.match(R)&&!n.match(/^Error created at/)),t).map(n=>{const r=n.split("@"),c=v(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;let u;o.match(/\(([^)]*)\)/)&&(u=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));const E=u===void 0||u==="[arguments not available]"?void 0:u.split(",");return{function:a,args:E,file:c[0],line:c[1]?+c[1]:void 0,col:c[2]?+c[2]:void 0,raw:n}})}function D(e){return e.map(t=>({functionName:t.function,args:t.args,fileName:t.file,lineNumber:t.line,columnNumber:t.col,source:t.raw}))}function g(e,t){return D(F(e,t))}const G={p6:""},M={key:0},j={"text-6xl":""},K={key:0,op75:""},z={my4:"","text-xl":"","text-red":""},H={key:1,"of-auto":"",rounded:"","bg-active":"",p2:""},U=m("div",{px1:"",op50:""}," Stacktrace ",-1),W=["textContent"],Y={key:1,op50:""},Z=x({__name:"error",setup(e){const t=y(),s=_(()=>{const r=t.value?.nuxt?.payload?.error;return r&&(console.error("[Nuxt DevTools] Error in payload:"),console.error(r),console.error({...r})),r}),n=_(()=>{if(!s.value?.stack)return[];try{return s.value.stack.startsWith("<pre>")?g({stack:s.value.stack.replace(/<.*?>/g,"")}):g(s.value)}catch(r){return console.error(r),[]}});return(r,c)=>{const o=S,a=O;return l(),d("div",G,[i(s)?(l(),d("div",M,[N(o,{n:"red",icon:"i-carbon-warning-alt-filled",mb5:""},{default:C(()=>[$(" Error occurred in this page ")]),_:1}),m("div",j,p(i(s).statusCode||"Client Error"),1),i(s).statusMessage?(l(),d("div",K,p(i(s).statusMessage),1)):h("",!0),m("div",z,p(i(s).message||i(s).description||"Unknown error"),1),i(n).length||i(s).stack?(l(),d("div",H,[U,i(n).length?(l(),w(a,{key:0,px2:"",stacktrace:i(n)},null,8,["stacktrace"])):(l(),d("pre",{key:1,textContent:p(i(s).stack)},null,8,W))])):h("",!0)])):(l(),d("div",Y," No error "))])}}});export{Z as default};
